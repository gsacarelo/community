<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Gerardo Sacarelo V. - Community</title>
  <meta name="description" content="Gerardo Sacarelo ‚Äî PhD ‚Ä¢ E-commerce ‚Ä¢ Creative Technologist. Side projects, tools, contact."/>

  <!-- Cross-platform icons -->
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/icons-16.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/icons-32.png"/>
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/icons-96.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/icons-76.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/appicon-180.png"/>
  <meta name="theme-color" content="#0b0b0c"/>

  <style>
    :root{
      --bg:#0b0b0c;
      --card:#101114cc;
      --stroke:#1c1d22;
      --text:#e9e9ee;
      --muted:#a5acb8;
      --brand:#b79bff;
      --brand-strong:#9f85ff;
      --brand-glow:rgba(183,155,255,.5);
      --radius:12px;
      --shadow:0 6px 18px rgba(0,0,0,.28);
      --shadow-strong:0 22px 46px rgba(0,0,0,.60);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font:16px/1.6 ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:radial-gradient(1200px 700px at 12% -14%,#171926,transparent 60%) no-repeat,var(--bg);
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1120px;margin:0 auto;padding:12px 10px 56px}

    header{
      position:sticky;top:0;z-index:20;
      padding:10px 10px;
      border-bottom:1px solid var(--stroke);
      background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02)),#0f1014f2;
      box-shadow:0 4px 18px rgba(0,0,0,.35);
      backdrop-filter:blur(8px);
    }
    .topbar{display:flex;flex-direction:column;align-items:center;gap:8px}
    .brand{display:inline-flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px}
    .brand .dot{width:12px;height:12px;border-radius:50%;background:conic-gradient(#7b5cff,#b79bff,#7b5cff);box-shadow:0 0 12px rgba(183,155,255,.7)}
    nav{display:flex;gap:6px;flex-wrap:wrap;justify-content:center}
    nav a{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:10px;line-height:1;border:1px solid var(--stroke);background:rgba(255,255,255,.02);transition:border-color .15s,background .15s,box-shadow .15s,transform .05s;font-size:14px}
    nav a:hover{border-color:#2a2c33;background:#151721;box-shadow:0 0 0 2px rgba(183,155,255,.18) inset}
    nav a:active{transform:translateY(1px);box-shadow:0 0 0 2px rgba(183,155,255,.28) inset}

    .hero{margin-top:10px;text-align:center}
    .hero h1{margin:0 0 6px;font-size:clamp(20px,3vw,28px)}
    .hero p{margin:0;color:var(--muted)}
    .badges{display:flex;flex-wrap:wrap;gap:6px;row-gap:6px;margin-top:10px;justify-content:center}
    .chip{padding:6px 10px;border-radius:999px;background:#0f1015;border:1px solid var(--stroke);color:var(--muted);font-size:12px}

    section{margin-top:16px;padding:12px;border-radius:var(--radius);background:var(--card);border:1px solid var(--stroke);box-shadow:var(--shadow)}
    section h2{margin:0 0 6px;font-size:22px;text-align:center}
    .load-status{text-align:center;color:var(--muted);font-size:14px;margin:4px 0 8px}

    .grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
    @media(min-width:1240px){.grid{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}}

    .card{
      display:block;padding:12px;border:1px solid var(--stroke);border-radius:16px;
      background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,0)),#13151d;
      box-shadow:var(--shadow);
      transition:transform .16s ease,box-shadow .16s ease,background .16s ease,border-color .16s ease,filter .16s ease;
      will-change:transform,box-shadow,filter;
    }
    a.card:hover{
      transform:translateY(-10px) scale(1.035);
      box-shadow:var(--shadow-strong),0 0 0 2px var(--brand-glow);
      border-color:var(--brand-strong);
      background:#0f1323;
      filter:saturate(1.15) contrast(1.08);
    }
    a.card:active{
      transform:translateY(-4px) scale(0.98);
      box-shadow:var(--shadow-strong),0 0 0 6px var(--brand-glow);
      border-color:var(--brand-strong);
      background:#0d1020;
      filter:saturate(1.18) contrast(1.1) brightness(1.02);
    }
    .card h3{margin:0 0 4px;font-size:16px;text-align:center}
    .card p{margin:0;color:var(--muted);text-align:center}
    .pill{margin-left:8px;padding:2px 6px;border-radius:999px;background:rgba(183,155,255,.18);border:1px solid rgba(183,155,255,.5);color:#efe7ff;font-size:11px;vertical-align:middle}
    .link{display:block;margin-top:8px;text-align:center;color:#d7dbff;font-size:13px}
    /* Mini-card buttons for the Contact section */
    .btn-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:8px;justify-items:stretch}
    .mini-card{
      display:inline-flex;align-items:center;justify-content:center;
      padding:10px 12px;border:1px solid var(--stroke);border-radius:12px;
      background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,0)),#13151d;
      text-align:center;line-height:1;font-size:14px;
      transition:transform .12s ease,box-shadow .16s ease,background .16s ease,border-color .16s ease,filter .16s ease;
    }
    .mini-card:hover{
      transform:translateY(-4px);
      border-color:#3c94ff;
      box-shadow:0 0 0 2px rgba(60,148,255,.25), 0 10px 24px rgba(0,0,0,.35);
      background:#0e1524; filter:saturate(1.08) contrast(1.06);
    }
    .mini-card:active{
      transform:translateY(-1px) scale(.99);
      border-color:#3c94ff;
      box-shadow:0 0 0 6px rgba(60,148,255,.35), 0 16px 36px rgba(0,0,0,.55);
      background:#0c1220; filter:saturate(1.1) contrast(1.08) brightness(1.02);
    }
    .mini-card[aria-disabled="true"]{opacity:.55;pointer-events:none;cursor:default}
    @media(max-width:560px){.btn-grid{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}}


    @media(max-width:560px){
      .wrap{padding:10px 8px 48px}
      .card{padding:10px}
      section{padding:10px}
    }
    footer{margin-top:18px;font-size:12.5px;color:var(--muted);text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="topbar">
        <div class="brand">
          <div class="dot" aria-hidden="true"></div>
          <span>Gerardo&nbsp;Sacarelo&nbsp;V.</span>
        </div>
        <nav>
          <a href="#projects">Side&nbsp;Projects</a>
          <a href="#tools">Tools</a>
          <a href="#about">About</a>
          <a href="#contact">Contact</a>
        </nav>
      </div>
    </header>

    <section class="hero">
      <h1>PhD ‚Ä¢ E-Commerce ‚Ä¢ Creative Technologist</h1>
      <p>Building quiet-luxury software, human-systems, and practical experiments... without manuals.</p>
      <div class="badges">
        <span class="chip">Charm Engineer</span>
        <span class="chip">Loop Escape Consultant</span>
        <span class="chip">Tiger Hugger</span>
        <span class="chip">Emoji Prophet</span>
      </div>
    </section>

    <section id="projects">
      <h2>‚ö° Side Projects</h2>
      <div id="status-projects" class="load-status">Loading apps‚Ä¶</div>
      <div class="grid" id="grid-projects">
        <div class="card"><h3>Soon<span class="pill">Placeholder</span></h3><p>Another project is brewing.</p><span class="link">Coming soon</span></div>
        <div class="card"><h3>Soon<span class="pill">Placeholder</span></h3><p>Stay tuned for updates.</p><span class="link">Coming soon</span></div>
      </div>
    </section>

    <section id="tools">
      <h2>üõ†Ô∏è Tools &amp; Experiments</h2>
      <div id="status-tools" class="load-status">Loading tools‚Ä¶</div>
      <div class="grid" id="grid-tools">
        <div class="card"><h3>Soon<span class="pill">Placeholder</span></h3><p>Utility arriving shortly.</p><span class="link">Coming soon</span></div>
        <div class="card"><h3>Soon<span class="pill">Placeholder</span></h3><p>Small lab, big ideas.</p><span class="link">Coming soon</span></div>
      </div>
    </section>

    <section id="about">
      <h2>üí° About</h2>
      <div class="card">
        <p style="margin:0">PhD-level maker focused on health tech, embedded systems, and non-conventional learning. This site tracks public side-projects and reference tools with a bias toward signal over noise.</p>
      </div>
    </section>

    <section id="contact">
      <h2>üì¨ Get in Touch</h2>
      <div class="card">
        <div class="btn-grid">
          <a class="mini-card" href="https://www.instagram.com/gerardo711" target="_blank" rel="noopener">üì∏ Instagram</a>
          <a class="mini-card" href="https://linktr.ee/gsacarelo" target="_blank" rel="noopener">üîó Linktree</a>
          <a class="mini-card" href="#" aria-disabled="true">‚ûï Another link (soon)</a>
        </div>
      </div>
    </section>

    <footer>¬© 1990 ‚Äì <span id="year"></span> Gerardo Sacarelo V. All rights reserved.</footer>
  </div>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <script>
    (async function () {
      const OWNER = "gsacarelo";
      const REPO = "community";
      const BRANCH = "main";
      const DEBUG = false;

      async function listGithubPath(path){
        const url = `https://api.github.com/repos/${OWNER}/${REPO}/contents/${path}?ref=${BRANCH}`;
        const res = await fetch(url, { headers: { Accept: "application/vnd.github+json" } });
        if (!res.ok) return [];
        return res.json();
      }

      function parseInfoCard(text){
        const out = {};
        text.split(/\r?\n/).forEach(line => {
          const m = line.match(/^\s*([a-zA-Z0-9_-]+)\s*:\s*(.*)\s*$/);
          if (m) out[m[1].toLowerCase()] = m[2];
        });
        return out;
      }

      function nicename(slug){
        return slug.replace(/[-_]+/g," ").replace(/\s+/g," ").trim().replace(/\b(\w)/g,s=>s.toUpperCase());
      }

      function buildCard(href, meta, fallbackTitle){
        const title = (meta.title || fallbackTitle || "Untitled").trim();
        const subtitle = (meta.subtitle || meta.description || "").trim();
        const pill = meta.pill ? `<span class="pill">${meta.pill}</span>` : "";
        const emoji = meta.emoji ? `${meta.emoji}\u00A0` : "";
        const a = document.createElement("a");
        a.className = "card";
        a.href = (meta.url && meta.url.trim() !== "") ? meta.url : href;
        a.target = "_self";
        a.rel = "noopener";
        a.dataset.order = meta.order || "999";
        a.innerHTML = `<h3>${emoji}${title}${pill}</h3><p>${subtitle}</p><span class="link">Open ‚Üí</span>`;
        return a;
      }

      function insertSortedBeforePlaceholders(grid, cards){
        cards.sort((a,b)=> +a.dataset.order - +b.dataset.order);
        const children = Array.from(grid.children);
        const firstPlaceholderIdx = children.findIndex(el => el.classList?.contains("card") && el.tagName !== "A");
        const insertIdx = firstPlaceholderIdx >= 0 ? firstPlaceholderIdx : children.length;
        cards.forEach((card,i) => grid.insertBefore(card, grid.children[insertIdx+i]));
      }

      async function fetchInfocard(files, base, folder){
        // Prefer the exact file GitHub returns (case-correct) using download_url; cache-bust to avoid stale
        const info = files.find(f => f.type === "file" && f.name.toLowerCase() === "infocard.txt");
        let txt = "";
        if (info && info.download_url) {
          try {
            const res = await fetch(info.download_url + `?ts=${Date.now()}`, { cache: "no-store" });
            if (res.ok) txt = await res.text();
          } catch (e) {
            if (DEBUG) console.warn("download_url fetch failed", base, folder, e);
          }
        }
        // Fallback to RAW path (also cache-busted)
        if (!txt) {
          const raw = `https://raw.githubusercontent.com/${OWNER}/${REPO}/${BRANCH}/${base}/${folder}/infocard.txt?ts=${Date.now()}`;
          try {
            const r = await fetch(raw, { cache: "no-store" });
            if (r.ok) txt = await r.text();
          } catch (e) {
            if (DEBUG) console.warn("raw fallback failed", base, folder, e);
          }
        }
        return txt;
      }

      async function addCards(base, gridId, statusId){
        const grid = document.getElementById(gridId);
        const status = document.getElementById(statusId);
        if (!grid) return;

        try {
          const items = await listGithubPath(base);
          const folders = items.filter(it => it.type === "dir").map(it => it.name);
          const newCards = [];

          for (const folder of folders) {
            const files = await listGithubPath(`${base}/${folder}`);
            const hasIndex = Array.isArray(files) && files.some(f => f.name.toLowerCase() === "index.html");
            if (!hasIndex) continue;

            let meta = {};
            const txt = await fetchInfocard(files, base, folder);
            if (txt && txt.trim()) {
              meta = parseInfoCard(txt);
              if ((meta.hide || "").toString().toLowerCase() === "true") continue;
            }

            const href = `./${base}/${folder}/index.html`;
            const titleFallback = nicename(folder);
            newCards.push(buildCard(href, meta, titleFallback));
          }

          if (newCards.length) {
            insertSortedBeforePlaceholders(grid, newCards);
            if (status) status.remove();
          } else {
            if (status) status.textContent = "No items found.";
          }
        } catch (e) {
          if (status) status.textContent = "Failed to load.";
          if (DEBUG) console.warn("Auto-list error:", e);
        }
      }

      await Promise.all([
        addCards("apps","grid-projects","status-projects"),
        addCards("tools","grid-tools","status-tools"),
      ]);
    })();
  </script>
</body>
</html>
